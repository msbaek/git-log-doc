# Git Doc Gen 개발 회고

## 프로젝트 개요
Git 커밋 히스토리를 시각적인 마크다운 문서로 변환하는 CLI 도구를 개발했습니다. 초기 PRD.md 기반으로 시작하여 사용자 피드백을 통해 지속적으로 개선했습니다.

## 개발 과정에서 마주친 주요 문제들

### 1. 한글 폰트 렌더링 문제
**문제 상황**
- matplotlib에서 한글이 깨져서 표시됨
- 처음에는 나눔고딕 폰트를 강제로 설정하려 함

**시행착오**
1. 복잡한 폰트 감지 로직 구현 시도
2. 폰트 파일 직접 찾아 설정하는 방식 시도
3. 사용자가 "나눔고딕 필요 없다"고 피드백

**해결 방법**
- 시스템별 기본 한글 폰트 사용으로 단순화
- macOS: AppleGothic, Windows: Malgun Gothic
- 텍스트 겹침 문제는 line_height 조정으로 해결 (0.015 → 0.025)

**교훈**
- 과도한 엔지니어링 주의 - 사용자가 원하는 것은 복잡한 솔루션이 아닌 실용적인 해결
- 플랫폼별 차이를 고려한 유연한 접근 필요

### 2. 브랜치 필터링 요구사항 파악
**문제 상황**
- 사용자가 feature 브랜치 문서에 main 브랜치 커밋이 포함된다고 지적
- 초기에는 모든 커밋을 표시하는 것이 맞다고 생각

**해결 과정**
1. Git의 브랜치 구조 이해 필요
2. `main..feature` 구문으로 브랜치 고유 커밋만 추출
3. `--all-commits` 옵션 추가로 유연성 제공

**교훈**
- 사용자의 실제 사용 시나리오를 이해하는 것이 중요
- 기본값은 가장 일반적인 사용 사례에 맞춰야 함

### 3. Diff 시각화 방식 개선
**진화 과정**
1. **Unified diff** → 기본적이지만 읽기 어려움
2. **Side-by-side diff** → 사용자 요청으로 변경
3. **GitHub 스타일** → 사용자가 GitHub UI 스크린샷 제공

**기술적 도전**
- `line_height` 속성 에러 → `__init__`에서 초기화 누락
- 라인 번호 추적 → hunk 헤더에서 파싱
- 색상 스키마 → GitHub과 동일하게 맞춤

**교훈**
- 사용자가 익숙한 UI를 참고하는 것이 효과적
- 점진적 개선이 한 번에 완벽을 추구하는 것보다 실용적

### 4. 가독성 문제
**문제 상황**
- 생성된 이미지의 폰트가 너무 작아 마크다운 텍스트와 비교해 읽기 어려움

**해결 방법**
- 모든 폰트 크기 체계적으로 증가 (약 1.5배)
- 라인 높이와 여백도 비례하여 조정

**교훈**
- 출력물의 실제 사용 환경을 고려해야 함
- 일관성 있는 스케일링이 중요

## 성공 요인

### 1. 모듈화된 아키텍처
```
src/
├── cli.py              # CLI 인터페이스
├── git_handler.py      # Git 작업 처리
├── commit_processor.py # 커밋 정보 처리
├── diff_visualizer.py  # 시각화 담당
└── markdown_generator.py # 문서 생성
```
- 각 모듈의 책임이 명확해 수정이 용이
- 특히 `diff_visualizer.py`만 집중적으로 수정

### 2. 점진적 개선 접근
- 작동하는 MVP부터 시작
- 사용자 피드백 기반 개선
- 각 단계에서 동작 확인

### 3. 실제 사용 사례 기반 개발
- 실제 저장소로 테스트
- 사용자가 직접 문제점 지적
- 구체적인 개선 방향 제시

## 개선할 점

### 1. 초기 요구사항 분석
- 브랜치 필터링 같은 핵심 기능을 초기에 파악하지 못함
- 사용자 인터뷰나 시나리오 분석 필요

### 2. 에러 처리
- `line_height` 속성 에러처럼 예방 가능한 실수
- 더 철저한 초기화 검증 필요

### 3. 성능 고려
- 대용량 diff 처리 시 이미지 생성 속도
- 메모리 사용량 최적화 필요

## 핵심 교훈

1. **사용자 피드백의 중요성**
   - "나눔고딕 필요 없다" → 과도한 엔지니어링 중단
   - GitHub UI 스크린샷 → 명확한 개선 방향

2. **반복적 개선의 가치**
   - 완벽한 첫 버전보다 빠른 피드백 사이클
   - 각 반복에서 실질적 가치 제공

3. **도메인 지식의 필요성**
   - Git 브랜치 구조 이해
   - diff 형식과 hunk 헤더 파싱

4. **실용성 우선**
   - 복잡한 폰트 감지보다 시스템 기본값 활용
   - 사용자가 익숙한 UI 패턴 차용

## 향후 유사 프로젝트를 위한 체크리스트

- [ ] 초기 사용자 시나리오 명확히 정의
- [ ] MVP에서 핵심 기능 우선순위 설정
- [ ] 플랫폼별 차이 고려한 설계
- [ ] 사용자가 익숙한 UI/UX 참고
- [ ] 성능과 확장성 고려
- [ ] 명확한 모듈 분리와 책임 할당
- [ ] 실제 데이터로 조기 테스트
- [ ] 피드백 수렴 프로세스 확립

## 결론

소프트웨어 개발은 예측 불가능한 문제 해결의 연속입니다. 이번 프로젝트에서도 한글 폰트, 브랜치 필터링, UI 개선 등 예상치 못한 다양한 이슈를 만났습니다. 

중요한 것은:
1. 문제를 정확히 이해하려는 노력
2. 과도한 해결책보다 실용적 접근
3. 사용자 피드백에 대한 빠른 대응
4. 지속적인 개선 의지

이러한 경험들이 축적되어 다음 프로젝트에서는 더 나은 예측과 대응이 가능해질 것입니다.